#!/bin/bash

echo "hello from ec2"

# echo "updating"
# sudo apt update

# echo "installing pip"
# sudo apt install python3-pip -y

# echo "installing flask"
# sudo pip install flask

# echo "installing mariadb dependancy"
# sudo apt-get install libmysqlclient-dev -y


# echo "insatlling mariadb server"
# sudo apt install mariadb-server -y

# echo "installing flask mysql"
# sudo pip install flask-mysqldb

# echo "setting up secure installation"
# sudo mysql -e "SET PASSWORD FOR root@localhost = PASSWORD('salafi123');FLUSH PRIVILEGES;"
# sudo mysql -u root -psalafi123 -e "DELETE FROM mysql.user WHERE User='';DELETE FROM mysql.user WHERE User='';DELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');"

# echo "Creating database"
# sudo mysql -u root -psalafi123 -e "CREATE DATABASE foo;CREATE USER 'abdullah'@'localhost' IDENTIFIED BY 'test123';GRANT ALL PRIVILEGES ON foo.* TO 'abdullah'@'localhost';"

# echo "Creating table in database"
# sudo mysql -u abdullah -ptest123 -e "use foo;select database();create table students(id INT NOT NULL AUTO_INCREMENT,name VARCHAR(30) NOT NULL,email varchar(50) NOT NULL,phone varchar(10) NOT NULL,PRIMARY KEY(id));"


# echo "changing directory"
# cd flask-app

# echo "starting flask server"
# sudo nohup python3 __init__.py > log.txt 2>&1 &



